<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8"/>
        <title>Cc-decoder by greydust</title>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen"/>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'/>
        <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen"/>
        <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen"/>
        <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"/>
        <script>
            // Initialize Firebase
            var config = {
                apiKey: "AIzaSyBsq6Rs0dt9axeDm4WiJnFpvCOGpckprBc",
                authDomain: "cc-decoderbackend.firebaseapp.com",
                databaseURL: "https://cc-decoderbackend.firebaseio.com",
                storageBucket: "cc-decoderbackend.appspot.com",
            };
            firebase.initializeApp(config);
            firebase.database().goOffline();
            
            function SearchCharacter() {
                var characterName = document.getElementById("characterName");
                var searchButton = document.getElementById("searchCharacterButton");
                var resultText = document.getElementById("resultText");
                searchButton.disabled = true;
                firebase.database().goOnline();
                firebase.database().ref('/charainfo/charainfo').equalTo(characterName).once('value').then(function(data) {
                    resultText.value = JSON.stringify(data.val());
                    searchButton.disabled = false;
                });
            }
        </script>
    </head>
    <body>
        <input type="text" id="characterName"/>
        <input type="button" id="searchCharacterButton" value="搜尋" onclick="SearchCharacter()">
        <textarea id="resultText" readonly rows="100" cols="500">
        </textarea>
    </body>
</html>
